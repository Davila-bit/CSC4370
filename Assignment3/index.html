<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Guesser Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .game-container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .word-display {
            font-size: 2em;
            text-align: center;
            margin: 20px 0;
            letter-spacing: 0.2em;
            color: #2c3e50;
        }
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        input[type="text"] {
            padding: 10px;
            font-size: 1.2em;
            margin: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
        }
        button {
            padding: 10px 20px;
            font-size: 1.2em;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #2980b9;
        }
        .message {
            text-align: center;
            margin: 20px 0;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .hangman {
            text-align: center;
            font-family: monospace;
            font-size: 1.5em;
            margin: 20px 0;
            white-space: pre-line;
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        .stat {
            text-align: center;
        }
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>Word Guesser Game</h1>
        
        <div class="word-display" id="wordDisplay">_ _ _ _</div>
        
        <div class="controls">
            <input type="text" id="letterInput" maxlength="1" placeholder="Enter a letter">
            <button onclick="makeGuess()">Guess Letter</button>
            <button onclick="resetGame()">New Game</button>
        </div>
        
        <div class="message" id="message"></div>
        
        <div class="hangman" id="hangman"></div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="reward">$0</div>
                <div>Reward</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="hangmanState">0</div>
                <div>Wrong Guesses</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="guessedLetters">-</div>
                <div>Guessed Letters</div>
            </div>
        </div>
    </div>

    <script>
        // Global arrays for the word and guessed letters
        var wordLetters = ['G', 'O', 'A', 'T'];
        var guessedLetters = ['_', '_', '_', '_'];
        
        // Game state variables
        var reward = 0;
        var hangmanState = 0;
        var guessedLetterList = [];
        var gameWon = false;
        var gameLost = false;
        
        // Hangman ASCII art
        var hangmanArt = [
            "",
            "  +---+\n  |   |\n      |\n      |\n      |\n      |\n=========",
            "  +---+\n  |   |\n  O   |\n      |\n      |\n      |\n=========",
            "  +---+\n  |   |\n  O   |\n  |   |\n      |\n      |\n=========",
            "  +---+\n  |   |\n  O   |\n /|   |\n      |\n      |\n=========",
            "  +---+\n  |   |\n  O   |\n /|\\  |\n      |\n      |\n=========",
            "  +---+\n  |   |\n  O   |\n /|\\  |\n /    |\n      |\n=========",
            "  +---+\n  |   |\n  O   |\n /|\\  |\n / \\  |\n      |\n========="
        ];
        
        // Function to update the display
        function updateDisplay() {
            document.getElementById('wordDisplay').textContent = guessedLetters.join(' ');
            document.getElementById('reward').textContent = '$' + reward;
            document.getElementById('hangmanState').textContent = hangmanState;
            document.getElementById('guessedLetters').textContent = guessedLetterList.join(', ');
            document.getElementById('hangman').textContent = hangmanArt[hangmanState];
        }
        
        // Function to show messages
        function showMessage(text, type) {
            var messageDiv = document.getElementById('message');
            messageDiv.textContent = text;
            messageDiv.className = 'message ' + type;
        }
        
        // Main guess letter function
        function guessLetter(letter) {
            if (gameWon || gameLost) {
                return;
            }
            
            // Check if letter was already guessed
            if (guessedLetterList.includes(letter.toUpperCase())) {
                showMessage('You already guessed that letter!', 'error');
                return;
            }
            
            // Add to guessed letters list
            guessedLetterList.push(letter.toUpperCase());
            
            var goodGuess = false;
            var moreToGuess = false;
            var lettersFound = 0;
            
            // Check each letter in the word
            for (var i = 0; i < wordLetters.length; i++) {
                if (wordLetters[i] === letter.toUpperCase()) {
                    guessedLetters[i] = letter.toUpperCase();
                    goodGuess = true;
                    lettersFound++;
                }
                if (guessedLetters[i] === '_') {
                    moreToGuess = true;
                }
            }
            
            if (goodGuess) {
                // Calculate reward (random amount between 10-50, multiplied by letters found)
                var randomReward = Math.floor(Math.random() * 41) + 10; // 10-50
                var totalReward = randomReward * lettersFound;
                reward += totalReward;
                
                showMessage(`Yay, you found a letter! +$${totalReward}`, 'success');
                console.log('Yay, you found a letter!');
                console.log(guessedLetters.join(''));
                
                if (!moreToGuess) {
                    gameWon = true;
                    showMessage(`YOU WON! Final reward: $${reward}`, 'success');
                    console.log('YOU WON!');
                    console.log(`Final reward: $${reward}`);
                }
            } else {
                // Wrong guess - subtract from reward and add to hangman state
                var penalty = Math.floor(Math.random() * 21) + 5; // 5-25
                reward = Math.max(0, reward - penalty);
                hangmanState++;
                
                showMessage(`Oh noes, that's not right! -$${penalty}`, 'error');
                console.log('Oh noes, thats not right!');
                
                // Check if hangman is complete (6 wrong guesses)
                if (hangmanState >= 6) {
                    gameLost = true;
                    showMessage('GAME OVER! You lost!', 'error');
                    console.log('GAME OVER! You lost!');
                    console.log(hangmanArt[6]);
                }
            }
            
            updateDisplay();
        }
        
        // Function to handle user input
        function makeGuess() {
            var input = document.getElementById('letterInput');
            var letter = input.value.trim().toUpperCase();
            
            if (letter.length !== 1 || !letter.match(/[A-Z]/)) {
                showMessage('Please enter a single letter!', 'error');
                return;
            }
            
            guessLetter(letter);
            input.value = '';
            input.focus();
        }
        
        // Function to reset the game
        function resetGame() {
            wordLetters = ['G', 'O', 'A', 'T'];
            guessedLetters = ['_', '_', '_', '_'];
            reward = 0;
            hangmanState = 0;
            guessedLetterList = [];
            gameWon = false;
            gameLost = false;
            
            updateDisplay();
            showMessage('New game started! Guess the word!', 'info');
        }
        
        // Allow Enter key to submit guess
        document.getElementById('letterInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                makeGuess();
            }
        });
        
        // Initialize the game
        updateDisplay();
        showMessage('Welcome! Guess the word by entering letters!', 'info');
        
        // Test the game with some guesses (as requested in the assignment)
        console.log('=== Testing the game ===');
        guessLetter('G');
        guessLetter('I');
        guessLetter('O');
        guessLetter('A');
        guessLetter('T');
    </script>
</body>
</html>
